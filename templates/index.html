{% extends "base.html" %}
{% block content %}
<div class="lg:flex lg:gap-4 lg:justify-between">
  <div class="lg:sticky lg:top-20 lg:w-2/5 h-full lg:mb-0 mb-8">
    <h1 class="text-5xl !mb-2 tracking-tight">Kilian GÃ¤rtner</h1>
    <h2 class="font-light tracking-tight !mt-0">Software Engineer <br>M.Sc. in computer Science</h2>
    <p>I build scalable backend systems and lead teams</p>
    {% set image = resize_image(path="/images/avatar_2022.png", height=100, width=100, op="fit", format="webp",
    quality=90) %}
    <img alt="avatar image of meldanor. A round head with big friendly eyes and a red mouth"
      class="!my-0 rounded-full drop-shadow-md" src="{{ image.url }}" />
    <!-- Socials -->
    <div class="mt-4 flex gap-4">
      <a class="block brightness-90 hover:brightness-125" href="https://mastodon.social/@meldanor"
        title="Mastodon Profile" aria-label="Mastodon Profile (opens in a new tab)" target="_blank"
        rel="noreferrer noopener">
        {% set svg = load_data(path="icons/mastodon_logo-purple.svg", required=true) %}
        <picture class="!m-0 [&>svg]:h-8 [&>svg]:w-8">
          {{svg | safe }}
        </picture>
      </a>
      <a class="block brightness-75 hover:brightness-125" href="https://github.com/Meldanor/" title="GitHub Profile"
        aria-label="GitHub Profile (opens in a new tab)" target="_blank" rel="noreferrer noopener">
        {% set svg = load_data(path="icons/github-mark-white.svg", required=true) %}
        <picture class="!m-0 [&>svg]:h-8 [&>svg]:w-8">
          {{svg | safe }}
        </picture>
      </a>
      <a class="block brightness-75 hover:brightness-125" href="mailto:contact@kilian-gaertner.dev" title="E-Mail me"
        aria-label="E-Mail" target="_blank" rel="noreferrer noopener">
        {% set svg = load_data(path="icons/mail_logo-black.svg", required=true) %}
        <picture class="!m-0 [&>svg]:h-8 [&>svg]:w-8">
          {{svg | safe }}
        </picture>
      </a>
    </div>
  </div>
  <div class="lg:w-3/5">
    <div class="[&>p:first-child]:mt-0">
      {% set page = get_page(path="about_me.md") %}
      {{ page.content | safe }}
    </div>
    <h2>Career</h2>
    <div class="flex flex-col gap-6">
      {% set section = get_section(path="career/_index.md") %}
      {% for page in section.pages %}
      <div class="grid grid-cols-[1fr_2fr]">
        <div class="text-sm content-center">
          {{ page.extra.startYear }} - {{ page.extra.endYear }}
        </div>
        <h3 class="!my-0">{{ page.extra.position }} - {{ page.extra.company }}</h3>
        <div class="col-start-2">
          {{ page.content | safe }}
          <div class="flex flex-wrap text-sm gap-2">
            {% for tag in page.extra.technologies %}
            <span
              class="bg-green-100 text-green-800 font-medium me-2 px-2 py-1 rounded-full dark:bg-green-900 dark:text-green-300">{{tag}}</span>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <h2>Projects</h2>
    <div class="flex flex-col gap-6">
      {% set section = get_section(path="projects/_index.md") %}
      {% for page in section.pages %}
      <!-- TODO Convert GRID to flex colum and second colum is also a flex -->
      <div class="grid grid-cols-[1fr_2fr]">
        <div class="mt-2 row-span-2">
          {% set image_path = "/images/projects/" ~ page.extra.image %}
          {% set image = resize_image(path=image_path, height=150, width=150,
          op="fit",format="webp",quality=90) %}
          <a class="hover:brightness-125" href="{{ get_url(path=image_path) }}" title="Project Image in original size"
            aria-label="Project Image in original size (opens in a new tab)" target="_blank" rel="noreferrer noopener">
            <img class="!my-0" alt="{{ page.extra.image_alt }}" src="{{ image.url }}">
          </a>
        </div>
        <h3 class="!my-0">{{ page.title }} </h3>
        <div class="[&>p]:my-0">
          {{ page.content | safe }}
          <div class="flex flex-wrap text-sm gap-2">
            {% for tag in page.extra.technologies %}
            <span
              class="bg-green-100 text-green-800 font-medium me-2 px-2 py-1 rounded-full dark:bg-green-900 dark:text-green-300">{{tag}}</span>
            {% endfor %}
          </div>
        </div>
        {% if page.extra.repostory or page.extra.link_to_project %}
        <div class="col-start-2 row-start-3 flex gap-4">
          {% if page.extra.repository %}
          <a href="{{ page.extra.repository }}" title="{{ page.title }} repository"
            aria-label="{{ page.title }} repository (opens in a new tab)" target="_blank"
            rel="noreferrer noopener">Repository</a>
          {% endif %}
          {% if page.extra.link_to_project %}

          <a href="{{ page.extra.link_to_project }}" title="{{ page.title }} project site"
            aria-label="{{ page.title }} project site (opens in a new tab)" target="_blank"
            rel="noreferrer noopener">Project site</a>
          {% endif %}

        </div>
        {% endif %}
      </div>

      {% endfor %}
    </div>
  </div>
  {% endblock content %}
